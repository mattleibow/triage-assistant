# Get detailed information about an issue including comments and reactions using GraphQL
query GetIssueDetails(
  $owner: String!
  $repo: String!
  $issueNumber: Int!
  $commentsCursor: String
  $reactionsCursor: String
) {
  repository(owner: $owner, name: $repo) {
    owner {
      login
      __typename
    }
    name
    nameWithOwner
    issue(number: $issueNumber) {
      id
      number
      title
      body
      state
      createdAt
      updatedAt
      closedAt
      author {
        login
        __typename
      }
      assignees(first: 100) {
        nodes {
          login
          __typename
        }
      }
      reactions(first: 100, after: $reactionsCursor) {
        totalCount
        pageInfo {
          hasNextPage
          endCursor
        }
        nodes {
          content
          createdAt
          user {
            login
            __typename
          }
        }
      }
      comments(first: 100, after: $commentsCursor) {
        totalCount
        pageInfo {
          hasNextPage
          endCursor
        }
        nodes {
          createdAt
          author {
            login
            __typename
          }
          reactions(first: 100) {
            totalCount
            pageInfo {
              hasNextPage
              endCursor
            }
            nodes {
              content
              createdAt
              user {
                login
                __typename
              }
            }
          }
        }
      }
    }
  }
}
