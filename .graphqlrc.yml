schema:
  # - https://api.github.com/graphql:
  #     headers:
  #       Authorization: 'Bearer GITHUB_TOKEN'
  #       User-Agent: 'Triage Assistant'
  - schemas/github.schema.graphql

documents: 'src/**/*.graphql'

extensions:
  endpoints:
    default:
      url: 'https://api.github.com/graphql'
      headers:
        Authorization: 'Bearer GITHUB_TOKEN'
        User-Agent: 'Triage Assistant'

  codegen:
    generates:
      src/generated/graphql.ts:
        plugins:
          - typescript
          - typescript-operations
          - typescript-graphql-request
          - add:
              content: |
                // This file is auto-generated. Do not edit directly.
                /* eslint-disable */

      schemas/github.schema.graphql:
        plugins:
          - schema-ast

      schemas/github.schema.json:
        plugins:
          - introspection
